# The following metrics configuration will work with the default dashboard template.
# merge:
#   plugin: count
#   args:
#     - --no-issues
#     - --event=merged
# contributions:
#   plugin: count
#   args:
#     - --ignore-authors=k8s-merge-robot,k8s-reviewable,k8s-ci-robot
#     - --no-issues
#     - --event=opened
#     - --comments=.*
#     - --log-author
# open:
#   plugin: count
#   args:
#     - --no-issues
#     - --state=opened,!merged
#     - --percentiles=50
projects:
  kubernetes:
    nginx:
      public-ip: "104.197.200.129"
    grafana:
      google-analytics-uaid: "UA-82843984-3"
    prometheus:
      prometheus-config.yml: |
        global:
          scrape_interval: 1m
        scrape_configs:
          - job_name: kubernetes-submit-queue
            metrics_path: /prometheus
            static_configs:
              - targets:
                  - submit-queue.k8s.io
          - job_name: kubernetes-boskos
            metrics_path: /prometheus
            static_configs:
              - targets:
                  - 104.197.27.114
          - job_name: kubernetes-bazel-cache
            metrics_path: /prometheus
            static_configs:
              - targets:
                  - 35.225.115.154
          - job_name: kubernetes-misc-mungers
            metrics_path: /prometheus
            static_configs:
              - targets:
                  - 146.148.39.225
          - job_name: push-gateway
            honor_labels: true
            static_configs:
              - targets:
                - prow.k8s.io
          - job_name: 'blackbox'
            metrics_path: /probe
            params:
              module: [http_2xx]
            static_configs:
              - targets:
                - https://prow.k8s.io
                - https://prow.k8s.io/hook
                - https://submit-queue.k8s.io
                - http://velodrome.k8s.io
                - https://testgrid.k8s.io
                - https://gubernator.k8s.io
                - https://gubernator.k8s.io/pr/fejta # Deep health check of someone's PR dashboard.
                - https://go.k8s.io/triage
                - https://storage.googleapis.com/kubernetes-jenkins/oncall.html
            relabel_configs:
              - source_labels: [__address__]
                target_label: __param_target
              - source_labels: [__param_target]
                target_label: instance
              - target_label: __address__
                replacement: blackbox
