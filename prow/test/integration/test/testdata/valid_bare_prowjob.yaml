apiVersion: prow.k8s.io/v1
kind: ProwJob
metadata:
  labels:
    prow.k8s.io/id: test-mutate-job
    prow.k8s.io/job: ci-k8s-infra-build-cluster-prow-build
    prow.k8s.io/refs.base_ref: master
    prow.k8s.io/refs.org: kubernetes
    prow.k8s.io/refs.repo: test-infra
    prow.k8s.io/type: periodic
    default-me: enabled
    admission-webhook: enabled
  name: test-mutate-job
  namespace: default
spec:
  agent: tekton-pipeline
  cluster: k8s-infra-prow-build
  extra_refs:
    - base_ref: master
      org: kubernetes
      repo: test-infra
  job: ci-k8s-infra-build-cluster-prow-build
  max_concurrency: 1
  namespace: test-pods
  pod_spec:
    containers:
      - args:
          - Everything is fine!
        command:
          - echo
        env:
          - name: GOPROXY
            value: 'https://proxy.golang.org'
        image: 'gcr.io/k8s-staging-infra-tools/k8s-infra:latest'
        name: ''
        resources:
          limits:
            cpu: 100m
            memory: 512Mi
          requests:
            cpu: 100m
            memory: 512Mi
  prowjob_defaults:
    tenant_id: GlobalDefaultID
  report: true
  type: periodic
