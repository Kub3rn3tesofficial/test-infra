### builder

# TODO(krzyzacy) refactor some aws.env later

# Fake provider to trick e2e-runner.sh
KUBERNETES_PROVIDER=kops-aws
AWS_CONFIG_FILE=/workspace/.aws/credentials
# This is needed to be able to create PD from the e2e test
AWS_SHARED_CREDENTIALS_FILE=/workspace/.aws/credentials
# TODO(zmerlynn): Eliminate the other uses of this env variable
KUBE_SSH_USER=admin
LOG_DUMP_USE_KUBECTL=yes
LOG_DUMP_SSH_KEY=/workspace/.ssh/kube_aws_rsa
LOG_DUMP_SSH_USER=admin
LOG_DUMP_SAVE_LOGS=cloud-init-output
LOG_DUMP_SAVE_SERVICES=protokube

### job-env

# Local env will always overwrite envs here

# See https://github.com/kubernetes/kubernetes/issues/30312 for why HPA is disabled.
# See https://github.com/kubernetes/kops/issues/774 for why the Dashboard is disabled
# See https://github.com/kubernetes/kops/issues/775 for why NodePort is disabled
GINKGO_TEST_ARGS=--ginkgo.skip=\[Slow\]|\[Serial\]|\[Disruptive\]|\[Flaky\]|\[Feature:.+\]|\[HPA\]|Dashboard|Services.*functioning.*NodePort

KOPS_LATEST=latest-ci-updown-green.txt
KOPS_PUBLISH_GREEN_PATH=gs://kops-ci/bin/latest-ci-green.txt

# After post-env
KOPS_DEPLOY_LATEST_KUBE=y
GINKGO_PARALLEL=y
GINKGO_TOLERATE_FLAKES=y

KUBEKINS_TIMEOUT=120m
